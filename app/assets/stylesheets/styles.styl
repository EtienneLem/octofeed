@import "nib"
@import "utils/reset"
@import "utils/mixins"

// Utils ---------------------------------------------------------------------
.grey-gradient
  background: #fafafa
  background: -webkit-linear-gradient(#fafafa, #eaeaea)
  background: -moz-linear-gradient(#fafafa, #eaeaea)
  -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr='#fafafa',endColorstr='#eaeaea')"

.blue-gradient
  background: #599bdc
  background: -webkit-linear-gradient(#599bdc, #3072b3)
  background: -moz-linear-gradient(#599bdc, #3072b3)
  -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr='#599bdc',endColorstr='#3072b3')"

.clearfix
  &:after
    display: block
    content: ''
    clear: both

// Base ----------------------------------------------------------------------
* { box-sizing: border-box }

html
  font-size: 62.5%
  height: 100%

body
  font-size: 13

body, legend, input, textarea, button
  font-family: Helvetica, arial, freesans, clean, sans-serif
  line-height: 1.4
  color: #333

a { color: #4183C4 }
a:focus, a:hover  { text-decoration: underline }

p, ul, ol, dl, blockquote, table, figure { margin: 0 }
li { list-style-type: none }

// Headings ------------------------------------------------------------------
hgroup > :first-child { margin-bottom: .3em }
hgroup > :first-child + * { margin-top: .3em }

h1, h2, h3, h4 { line-height: 1.1 }

// Header ---------------------------------------------------------------------
header
  @extends .grey-gradient
  height: 47px
  box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 0 10px rgba(0,0,0,.1)
  border-bottom: 1px solid #cacaca
  overflow: hidden

  h1
    float: left
    margin: 0
    line-height: 49px

  a
    color: #000

    &:hover, &:focus
      color: #4183C4
      text-decoration: none

  nav
    float: right
    line-height: 49px

    li { float: left }
    li + li { margin: 0 0 0 12px }

// Layout ---------------------------------------------------------------------
.container
  @extends .clearfix
  width: 80%
  max-width: 920px
  margin: 0 auto

.button
  @extends .grey-gradient
  display: inline-block
  padding: 5px
  color: #333
  font-weight: bold
  border: 1px solid #d4d4d4
  border-bottom-color: #bcbcbc
  text-shadow: 0 1px 0 #fff
  border-radius: 3px

  &.login-with-gh
    @extends .clearfix

    .github-logo
      display: inline-block
      background-image: url(/images/github.png)
      size: 16px 17px
      position: relative
      top: -2px
      vertical-align: middle

.button:hover, .button:focus
  @extends .blue-gradient
  color: #fff
  border-color: #518cc6
  border-bottom-color: #2a65a0
  text-decoration: none
  text-shadow: 0 -1px 0 rgba(0,0,0,.3)

  &.login-with-gh .github-logo { background-position: 0 -17px }

// Login ----------------------------------------------------------------------
.login
  padding: 0 0 52px

  section.col-2 article
    float: left
    width: 50%

// Logged --------------------------------------------------------------------
.logged
  padding: 25px 0 52px

  section { float: left }
  .feed { width: 62% }

  .sidebar
    width: 38%
    padding: 0 0 0 20px

    nav
      border: 1px solid #ddd
      border-radius: 5px

      h1
        @extends .grey-gradient
        margin: 0; padding: 1em 10px
        border-radius: 5px 5px 0 0

      ul
        padding: 10px

  .more
    color: #369
    display: block
    border: 1px solid #aad
    padding: .5em
    text-align: center
    margin: 16px 0 0
    overflow: hidden

    &.loading
      background: url(/images/octocat-spinner.gif) center center no-repeat
      text-indent: -999px

    &:hover
      color: #000
      border-color: #369
      text-decoration: none

// EventGroup ----------------------------------------------------------------
.logged
  article
    position: relative
    padding: 8px
    background-color: #f8f8f8
    border-radius: 3px
    min-height: 89px

    h1
      position: relative
      margin: 0; padding: 0

      img
        position: absolute
        bottom: -58px; left: 0

    img
      vertical-align: middle
      padding: 2px
      border: 1px solid #d0d0d0

  article + article
    margin: 10px 0 0

.user-group
  & > ul { padding: 8px 0 0 56px }

  .title
    img, .username { display: none }

.repo-group
  & > ul { padding: 0 0 0 56px }

  .Event
    min-height: 60px
    padding: 8px 0 0

  .body { padding: 0 0 0 36px }

  .title
    position: relative

    img
      position: absolute
      bottom: -32px; left: 0
      padding: 1px

// Event ---------------------------------------------------------------------
.Event
  position: relative

  .title { font-weight: bold }

  .body
    overflow: ellipsis
    * { overflow: ellipsis }
    li + li { padding: 3px 0 0 }

  blockquote
    color: #666
    padding: 2px 0 0

// PushEvent -----------------------------------------------------------------
.PushEvent
  img { padding: 1px }
  blockquote { display: inline }
  .body { padding-top: 4px }
  .title img { bottom: -34px }

// FollowEvent ---------------------------------------------------------------
.current-user
  .FollowEvent { float: left }
  .FollowEvent + .FollowEvent { margin: 0 0 0 2px }

// Footer --------------------------------------------------------------------
footer
  text-align: center
  padding: 0 0 10px
